#!/usr/bin/make -f

# Uncomment this to turn on verbose mode.
export DH_VERBOSE=1

# DH_GOPKG is the upstream path which you would normally “go get”.
# Using it allows us to build applications without patching locations.
export DH_GOPKG := ancient-solutions.com/apps/shortn

override_dh_auto_install:
	install -o root -g 0 -m 0755 -d \
		$(CURDIR)/debian/shortn/usr/share/shortn/templates
	install -o root -g 0 -m 0755 $(CURDIR)/templates/added.tmpl \
		$(CURDIR)/debian/shortn/usr/share/shortn/templates
	install -o root -g 0 -m 0755 $(CURDIR)/templates/addurl.tmpl \
		$(CURDIR)/debian/shortn/usr/share/shortn/templates
	install -o root -g 0 -m 0755 $(CURDIR)/templates/error.tmpl \
		$(CURDIR)/debian/shortn/usr/share/shortn/templates
	install -o root -g 0 -m 0755 $(CURDIR)/templates/notfound.tmpl \
		$(CURDIR)/debian/shortn/usr/share/shortn/templates
	dh_auto_install -O--buildsystem=golang

%:
	dh $@ --buildsystem=golang --with=golang
